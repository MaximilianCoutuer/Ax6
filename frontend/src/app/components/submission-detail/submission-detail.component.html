<div>
  <div style="width: 100%;">
    <h2>Submission details</h2>

    <h3>{{ submission?.title }}</h3>

    <p>{{ submission?.description }}</p>
  </div>

  <div class="row">
    <div class="col-lg-8 col-xs-12">
      <iframe
        *ngIf="submissionUrl"
        [src]="getSafeUrl()"
        frameborder="0"
        width="100%"
        height="800px"
        class="submission-frame"
      ></iframe>
    </div>
    <aside class="col-lg-4 col-xs-12">
      <button (click)="scroll(review)" class="btn btn-primary">
        Write review
      </button>
      <p *ngIf="reviews && reviews.length > 0">
        <fa-icon
          *ngFor="let i of range(avgReviews())"
          [icon]="faStar"
        ></fa-icon>
        <fa-icon
          *ngFor="let i of range(5 - avgReviews())"
          [icon]="farStar"
        ></fa-icon>
        ({{ reviews.length }})
      </p>
    </aside>
  </div>

  <div class="row" #review>
    <h3>Reviews</h3>

    <!-- if person wrote review show Reviews

    else show 'Write a review to see the other reviews' -->

    <criteria-review [submissionId]="submission?.id"></criteria-review>
  </div>
</div>
